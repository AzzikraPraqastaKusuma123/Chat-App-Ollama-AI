/* frontend/src/components/MessageCard.module.css */

.messageWrapper {
  display: flex;
  align-items: flex-end; /* items-end */
  gap: 10px; /* gap-2.5 (2.5 * 4px = 10px) */
  margin-top: 8px; /* my-2 */
  margin-bottom: 8px; /* my-2 */
  width: 100%;
}

.messageWrapper.user {
  justify-content: flex-end; /* justify-end */
}

.messageWrapper.assistant {
  justify-content: flex-start; /* justify-start */
}

.avatar {
  flex-shrink: 0;
  width: 36px; /* md:w-9 (9 * 4px = 36px) */
  height: 36px; /* md:h-9 */
  border-radius: 9999px; /* rounded-full */
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 14px; /* md:text-sm */
  font-weight: 500; /* font-medium */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1); /* shadow-md */
  transition-property: transform;
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0, 0, 0.2, 1); /* ease-out approx */
}

.messageWrapper:hover .avatar {
    transform: scale(1.05);
}

.avatarUser {
  background-image: linear-gradient(to bottom right, #3b82f6, #4f46e5); /* from-sky-500 to-cyan-500 (diganti ke blue/indigo agar serasi dengan bubble pengguna) */
}

.avatarAssistant {
  background-image: linear-gradient(to bottom right, #64748b, #475569); /* from-slate-400 to-slate-600 */
}

.bubble {
  padding-left: 14px;  /* px-3.5 */
  padding-right: 14px; /* px-3.5 */
  padding-top: 10px;   /* py-2.5 */
  padding-bottom: 10px;  /* py-2.5 */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1); /* shadow-lg */
  max-width: 70%; /* md:max-w-[70%] */
  transition-property: all;
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0, 0, 0.2, 1); /* ease-out */
}

/* Responsiveness untuk max-width bubble */
@media (min-width: 640px) { /* sm prefix */
  .bubble {
    max-width: 75%;
  }
}
@media (min-width: 768px) { /* md prefix */
  .bubble {
    max-width: 70%; /* Kembali ke 70% atau nilai lain yang sesuai */
  }
}


.messageWrapper:hover .bubble {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1); /* shadow-xl */
  transform: translateY(-2px); /* -translate-y-0.5 (0.5 * 4px = 2px) */
}

.bubbleUser {
  background-image: linear-gradient(to bottom right, #3b82f6, #6366f1); /* from-blue-500 to-indigo-600 */
  color: white;
  border-top-left-radius: 1rem; /* rounded-l-2xl (efektifnya l dan t) */
  border-top-right-radius: 1rem; /* rounded-tr-2xl */
  border-bottom-right-radius: 0.375rem; /* rounded-br-md (diganti ke lg agar lebih terlihat) */
  /* Untuk efek "ekor" lebih baik, hanya satu sisi yang tidak terlalu rounded */
  /* Atau gunakan rounded-l-xl rounded-t-xl */
}

/* Bentuk bubble lebih sederhana untuk user dan asisten */
.bubbleUser {
  background-image: linear-gradient(to bottom right, #3b82f6, #6366f1); /* from-blue-500 to-indigo-600 */
  color: white;
  border-radius: 1rem 1rem 0.375rem 1rem; /* tl tr br bl */
}

.bubbleAssistant {
  background-color: white;
  color: #334155; /* text-slate-700 */
  border: 1px solid #e2e8f0; /* border border-slate-200 */
  border-radius: 1rem 1rem 1rem 0.375rem; /* tr tl bl br */
}

.messageText {
  white-space: pre-line;
  font-size: 14px; /* text-sm */
  line-height: 1.625; /* leading-relaxed */
}

.timestamp {
  font-size: 12px; /* text-xs */
  margin-top: 6px; /* mt-1.5 */
}

.timestampUser {
  color: #c7d2fe; /* text-indigo-200 (disesuaikan dengan bg-indigo-600) */
  text-align: right;
}

.timestampAssistant {
  color: #94a3b8; /* text-slate-400 */
  text-align: left;
}